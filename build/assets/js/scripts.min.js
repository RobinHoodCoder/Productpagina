"use strict";$(function(){//Slider voor thumbnails
var a=new Swiper(".gallery-thumbs",{spaceBetween:14,slidesPerView:3,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0}),b=new Swiper(".gallery-top",{spaceBetween:10,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},thumbs:{swiper:a}}),c=$(".pswp")[0],d=[];// Smooth scroll plugin
$(".photoswipe-gallery").each(function(){var a=$(this),b=function c(){var b=[];return a.find("a").each(function(){var a=$(this).attr("href"),c=$(this).data("size").split("x"),d=c[0],e=c[1],f=$(this).data("caption"),g=$(this).data("tags");b.push({src:a,w:d,h:e,title:f,tagitems:g})}),b}();$.each(b,function(a,b){d[a]=new Image,d[a].src=b.src}),a.on("click","figure",function(a){a.preventDefault();var d=$("figure").index(this),e=new PhotoSwipe(c,PhotoSwipeUI_Default,b,{index:d,bgOpacity:.9,showHideOpacity:!1});e.init()})}),$("a").smoothScroll()});
"use strict";// 'use strict';
$(function(){/*======================================================================================
    ======================================================================================
    /* HELPER FUNCTIES*/ /*=====================================================================================
    =======================================================================================*/ //Smooth naarboven scrollen als je een product toevoegd in je winkelwagen
function a(){$("html, body").animate({scrollTop:0},"slow")}//Haal element weg met een animatie en verwijder ze daarna uit de DOM
function b(a,b,c){a.classList.add(b),setTimeout(function(){a.remove()},c)}//Haal meerdere elementen weg met een animatie. Kan ze eventueel ook verwijderen uit de DOM.
function c(a,b,c,d){a.forEach(function(a){a.classList.add(b),setTimeout(function(){!1===d?(a.classList.remove(b),a.classList.remove("visible")):a.remove()},c)})}function d(a){a.forEach(function(a){a.classList.toggle("visible")})}function e(a,c){var d=document.querySelector(c);2>d.children.length&&d.insertAdjacentHTML("beforeend","<span class=\"no-items-added\">"+a+"</span>"),b(d.children[1],"move-in-and-out",3e3)}// Verminder het toegevoegde aantal items van een product
function f(a,b,c){o.forEach(function(d){d.name===a.name&&(1<d.quantity?(b.querySelector(".cart__item__quantity").innerText=--d.quantity,n()):h(a,b,c),1===d.quantity&&b.querySelector("[data-action=\"DECREASE_ITEM\"]").classList.add("decrease-last"))})}/*====================
    * Basisfuncties
    * ====================*/ // Haal een item weg
function g(a,b){o.forEach(function(c){c.name===a.name&&(b.querySelector(".cart__item__quantity").innerText=++c.quantity,b.querySelector("[data-action=\"DECREASE_ITEM\"]").classList.remove("decrease-last"),n())})}function h(a,d,e){d.classList.add("cart__item--removed"),setTimeout(function(){return d.remove()},250),o=o.filter(function(b){return b.name!==a.name}),n(),e.innerText="In mijn winkelwagentje",e.disabled=!1,1>o.length&&(b(document.querySelector(".cart-footer"),"move-out-to-top",100),setTimeout(function(){// hideOrShowPopup(popupClasses);
c(r,"move-out-to-top",100,!1),u.parentNode.classList.remove("contains-items"),u.innerText="",e.classList.remove("added-to-cart")},500))}//Leeg het winkelwagentje
function i(){p.querySelectorAll(".cart__item").forEach(function(a){a.classList.add("cart__item--removed"),setTimeout(function(){return a.remove()},250),setTimeout(function(){return d(r)},250)}),o=[],localStorage.removeItem("cart"),document.querySelector(".cart-footer").remove(),q.forEach(function(a){//Cart is empty. Reset add to cart button text.
a.innerText="In mijn winkelwagentje",a.classList.remove("added-to-cart"),a.disabled=!1,setTimeout(function(){//Haal het aantal weg in de badge met aantal producten bovenaan pagina
u.innerText="",u.parentNode.classList.remove("contains-items")},200)})}/*=============================
    * Functies die HTML injecteren
    * ===========================*/ //Voeg een footer toe aan de winkelwagen popup
function j(){null===document.querySelector(".cart-footer")&&(p.insertAdjacentHTML("afterend","\n              <div class=\"cart-footer\">\n                <button class=\"btn-outline button-clear-items\" data-action=\"CLEAR_CART\">Leegmaken</button>\n                <div class=\"order-progress-navigation\">\n                    <button class=\"btn-outline button-continue-shopping\" data-action=\"CLOSE_POPUP\">Verder winkelen</button>\n                    <button class=\"button-to-checkout\" data-action=\"CHECKOUT\">Naar betalen</button>               \n                </div>\n               \n              </div>\n            "),document.querySelector("[data-action=\"CLOSE_POPUP\"]").addEventListener("click",function(){d(r)}),document.querySelector("[data-action=\"CLEAR_CART\"]").addEventListener("click",function(){return i()}))}//Voeg HTML van product toe aan het winkelwagentje
function k(a){p.insertAdjacentHTML("beforeend","        \n            <div class=\"cart__item\">\n              <img class=\"cart__item__image\" src=\"".concat(a.image,"\" alt=\"").concat(a.name,"\">\n              <div class=\"cart__item__left\">\n                <h3 class=\"cart__item__name\">").concat(a.name,"</h3>\n                <div class=\"control-buttons\">\t                \n\t                <button class=\"cart__item__decrease btn-mini ").concat(1===a.quantity?" decrease-last":"","\" data-action=\"DECREASE_ITEM\">&minus;</button>\n\t                <span class=\"cart__item__quantity\">").concat(a.quantity,"</span>\n\t                <button class=\"cart__item__increase\" data-action=\"INCREASE_ITEM\">&plus;</button>             \n\t\t\t\t</div>\n              </div>\n              <div class=\"cleared\"></div>\n              <div class=\"cart__item__right\">\n                <span class=\"cart__item__price-initial\">").concat(a.priceInitial,"</span>\n               \t<span class=\"cart__item__price\">").concat(a.price,"</span>                 \t\n              \t<button class=\"cart__item__delete\" data-action=\"REMOVE_ITEM\">&times;</button>                              \n\t\t\t  </div>         \n            </div>       \n        ")),j()}/*=====================
    * Gecombineerde functies
    * =====================*/ //Variable om totaal aantal producten te tellen in winkelwagentje
//Alle clicks van actie buttons in het winkelwagentje koppelen aan functies
function l(a,b){a.innerText="Toegevoegd",a.classList.add("added-to-cart"),a.disabled=!1;var c=p.querySelectorAll(".cart__item");c.forEach(function(c){c.querySelector(".cart__item__name").innerText===b.name&&(c.querySelector("[data-action=\"INCREASE_ITEM\"]").addEventListener("click",function(){return g(b,c)}),c.querySelector("[data-action=\"DECREASE_ITEM\"]").addEventListener("click",function(){return f(b,c,a)}),c.querySelector("[data-action=\"REMOVE_ITEM\"]").addEventListener("click",function(){return h(b,c,a)}))})}function m(){var a=0,b=0;o.forEach(function(c){return[a+=c.quantity*c.price,b+=c.quantity]}),document.querySelector("[data-action=\"CHECKOUT\"]"),document.querySelector("[data-action=\"CHECKOUT\"]").innerText="Afrekenen \u20AC ".concat(a),setTimeout(function(){u.innerText="".concat(b),u.parentNode.classList.add("contains-items")},200)}function n(){localStorage.setItem("cart",JSON.stringify(o)),m()}// Paypal
//   function checkout() {
//       let paypalFormHTML = `
//       <form id="paypal-form" action="https://www.paypal.com/cgi-bin/webscr" method="post">
//         <input type="hidden" name="cmd" value="_cart">
//         <input type="hidden" name="upload" value="1">
//         <input type="hidden" name="business" value="">
//       `;
//
//       cart.forEach((cartItem, index) => {
//           ++index;
//           paypalFormHTML += `
//             <input type="hidden" name="item_name_${index}" value="${cartItem.name}">
//             <input type="hidden" name="amount_${index}" value="${cartItem.price}">
//             <input type="hidden" name="quantity_${index}" value="${cartItem.quantity}">
//           `;
//       });
//       paypalFormHTML += `
//           <input type="submit" value="PayPal">
//       </form>
//   <!--<div class="overlay"></div>-->
// `;
//
//       document.querySelector('body').insertAdjacentHTML('beforeend', paypalFormHTML);
//       document.getElementById('paypal-form').submit();
//   }
// Check local storage of er al een winkelwagentje is en zet ze in een variable. Zo niet, dan een lege variable
var o=JSON.parse(localStorage.getItem("cart"))||[],p=document.querySelector(".cart-items"),q=document.querySelectorAll("[data-action=\"ADD_PRODUCT_TO_CART\"]"),r=document.querySelectorAll(".overlay, .shopping-cart-container"),s=document.querySelectorAll(".overlay , .button-continue-shopping, .button-continue-shopping"),t=document.querySelector(".open-cart"),u=document.querySelector(".cart-items-amount");// Hier komen de items in die je in je winkelwagen stopt (DOM)
// Button om winkelwagen te openen
// Laat popup zien van winkelwagentje als je op de "clickToTogglePopupClasses" classes klikt.
//Voeg het juiste product toe met de juiste knop
0<o.length&&o.forEach(function(a){+a.quantity;var b=a;k(b),m(),q.forEach(function(a){var c=a.closest(".product__container");c.querySelector(".product__name").innerText===b.name&&l(a,b)})}),t.addEventListener("click",function(){u.innerText?d(r):e("Nog geen producten in winkelwagen","header")}),s.forEach(function(a){a.addEventListener("click",function(){d(r)},!1)}),q.forEach(function(b){b.addEventListener("click",function(){d(r),a();var c=b.closest(".product__container"),e={image:c.querySelector(".product__main-thumb").getAttribute("src"),name:c.querySelector(".product__name").innerText,priceInitial:c.querySelector(".product__price-initial").getAttribute("data-initial-price"),price:c.querySelector(".product__price-special").getAttribute("data-price"),quantity:1},f=0<o.filter(function(a){return a.name===e.name}).length;f||(k(e),o.push(e),n(),l(b,e))})})});
//# sourceMappingURL=scripts.min.js.map
